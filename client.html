<!doctype html>
<html lang="en" ng-app>
  <head>
    <script src="https://node-ggongmouse.c9users.io/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script>
      
      var socket = io.connect("https://143.248.200.195:8798");
      var name = "";
      
      socket.on('openClient', function (data) {
    	  console.log('Good!');    	 
          if (name == "")
              name = data.uid;
          $('#dv_chat').append($('<div>').text(data.message));
      });
      
      socket.on('sendClient', function (data) {
        $('#dv_chat').append($('<div>').text(data.uid + ' : ' + data.message));
      });
      
      socket.on('closeClient', function (data) {
        $('#dv_chat').append($('<div>').text(data.message));
      });
      
      $(document).ready(function() {
        $("#btn_SendServer").click(function() {
        	console.log('Good!');
          // 서버로 데이터 보내기
          socket.emit("receiveClient", { clientValue: $("#txt_chat").val(), clientId: name });
          
          // 서버로 메시지 보내기
          socket.json.send({ clientValue: $("#txt_chat").val() });
        });
      });
  </script>
  </head>
  <body>
    채팅
    <input type="text" name="txt_chat" id="txt_chat"/><button id="btn_SendServer">전송</button>
    <div id="dv_chat"></div>
  </body>
</html>